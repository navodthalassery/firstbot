# Creating LUIS JSON model file

Once you have created individual .lu files you can parse them all to a LUIS JSON model using this command: 
```bash
> ludown parse toluis -l <folder with .lu files> [-s -o <outputfolder> -n <luisAppName> --verbose -c <luisAppCulture>]
```

This will parse all .lu files found and will create **ONE** LUIS JSON model. 

If you would like to create multiple luis apps, then you can add a [root.lu file](../examples/en-us/root.lu) that holds reference to other relevant .lu files and parse it like this: 

```bash
> ludown parse toluis --in <root_file.lu> [-o <outputFolder> -n <luisAppName> --verbose -c <luisAppCulture>]
```

This will parse all .lu files referenced in the root_file.lu and output **ONE** LUIS JSON model. 

# Creating a New LUIS App
## using command line 
You can use the new LUIS JSON file to create a new LUIS application using this command.
```bash
luis import application --in _LUISApp.json --authoringKey "" --endpoint ""
```
Note: You can install LUIS CLI from [here](../../LUIS). If you are using LUIS CLI, you might see the option to provide a versionId, application name directly in the LUIS CLI. You can also provide this information to the Ludown tool to generate your LUIS JSON model as well. Information explicitly specified in the LUIS CLI will override any information captured by Ludown tool. 

## using [LUIS](http://luis.ai) portal
- Navigate to [LUIS](http://luis.ai)
- Sign in
- Click on My apps
- "Import new App"
- Choose file -> select the _LUISApp.json generated by LUDown tool

## Creating and adding batch tests to [LUIS](http://luis.ai) app
You can create the input JSON for [batch testing](https://docs.microsoft.com/en-us/azure/cognitive-services/luis/luis-concept-batch-test) in LUIS using:

```bash
ludown parse toluis --write_luis_batch_tests --in <.lufile>
```
This command will write out a _LUISBatchTest.json file

You can then import this to batch testing by following these steps
- Navigate to [LUIS](http://luis.ai)
- Sign in
- Click on My apps
- Open the LUIS app you wish to add this as batch test input
- Click on Test (top right corner)
- Click on 'Batch testing panel'
- Click on 'Import dataset'
- Click on 'Choose File' and provide the _LUISBatchTest.json file that was generated by ludown tool
- Give a name for the dataset
- Click Done